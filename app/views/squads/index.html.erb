<%= stylesheet_link_tag "squads/all_squads" %>

<div class="all-squads-container">
  <h1>All Squads</h1>

  <div class="squad-sample">
    <% @squads.each do |squad| %>
      <div class="squad">
        <div class="squad-left">
          <h2>Name: <%= squad.name %></h2>
          <p>Description: <%= squad.description %></p>
          <p>Created by: <%= squad.creator_name %></p>
          <p>Squad Winrate: <%= squad.average_win_rate %>%<p>
        </div>

        <div class="squad-right">
          <h2>Players</h2>
          <ul>
            <% squad.players.each do |player| %>
              <li>
                <%= player.riot_id %> (<%= player.game_tag %>) - Win Rate: <%= player.win_rate %>%
                <% if player.puuid.blank? %>
                  <p>Player details could not be fetched.</p>
                <% end %>
              </li>
            <% end %>
          </ul>
        </div>
      </div>
    <% end %>
  </div>

  <%= link_to 'Back to Home', root_path %>
</div>
